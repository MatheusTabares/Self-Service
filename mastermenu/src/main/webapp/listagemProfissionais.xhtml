<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
			    xmlns:ui="http://java.sun.com/jsf/facelets"
			    xmlns:h="http://java.sun.com/jsf/html"
			    xmlns:f="http://java.sun.com/jsf/core"
			    template="tema.xhtml">
	
	<ui:define name="menu">
        <ui:include src="/includes/menuPrincipal.xhtml" />
    </ui:define>
    
    <ui:define name="conteudo">
    <H2>Listagem de Profissionais</H2>
    <h:form>
    		<h:messages/>
 			<h:dataTable style="width: 100%; text-align: left;" value="#{profissionalBean.listaAtivos}" var="profissional" rules="rows" cellpadding="5" >
    			<f:facet name="caption">
    				<hr/>
    			</f:facet>
    			<f:facet name="footer">Final da Listagem</f:facet>
    			<h:column>
    				<f:facet name="header">Id</f:facet>
    				<h:outputText value="#{profissional.id}" />
    			</h:column>
    			<h:column>
    				<f:facet name="header">Nome</f:facet>
    				<h:outputText value="#{profissional.nome}" />
    			</h:column>
    			<h:column>
    				<f:facet name="header">e-Mail</f:facet>
    				<h:outputText value="#{profissional.email}" />
    			</h:column>
    			<h:column>
    				<h:commandLink action="#{profissionalBean.alterar}" value="alterar">
    					<f:setPropertyActionListener value="#{profissional}" target="#{profissionalBean.profissional}" />
    					<f:setPropertyActionListener value="listagemProfissional" target="#{profissionalBean.destinoSalvar}" />
    				</h:commandLink>
    			</h:column>
    			<h:column>
    				<h:commandLink action="alterarSenhaProfissional.xhtml" value="alterar senha">
    					<f:setPropertyActionListener value="#{profissional}" target="#{profissionalBean.profissional}" />
    				</h:commandLink>
    			</h:column>
    			<h:column>
    				<h:commandLink action="#{profissionalBean.visualizar}" value="Visualizar">
    					<f:setPropertyActionListener value="#{profissional}" target="#{profissionalBean.profissional}" />
    				</h:commandLink>
    			</h:column>
    			<h:column>
    				<h:commandLink action="#{profissionalBean.excluirLogicamente}" value="excluir"
    					onclick="if (!confirm('Confirma a exclusão do usuário')) return false;">
    					<f:setPropertyActionListener value="#{profissional}" target="#{profissionalBean.profissional}" />
    				</h:commandLink>
    			</h:column>
    		</h:dataTable>
     	</h:form>
     	<a href="index.xhtml">voltar</a>
     </ui:define>
</ui:composition>