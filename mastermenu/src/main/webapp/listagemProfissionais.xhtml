<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
			    xmlns:ui="http://java.sun.com/jsf/facelets"
			    xmlns:h="http://java.sun.com/jsf/html"
			    xmlns:f="http://java.sun.com/jsf/core"
			    xmlns:p="http://primefaces.org/ui"
			    template="tema.xhtml">
	
	<ui:define name="menu">
        <ui:include src="/includes/menuPrincipal.xhtml" />
    </ui:define>
    
    <ui:define name="conteudo">
    <H2>Listagem de Profissionais</H2>
    <h:form>
    		<h:messages/>
				<p:dataTable var="profissional" value="#{profissionalBean.lista}" paginator="true" rows="10" 
	    			paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" lazy="true">
				    <p:column headerText="Id" sortBy="#{profissional.id}" filterBy="#{profissional.id}">
				        <h:outputText value="#{profissional.id}" />
			    </p:column>
			 
			    <p:column headerText="Nome" sortBy="#{profissional.nome}" filterBy="#{profissional.nome}">
			        <h:outputText value="#{profissional.nome}" />
			    </p:column>
			 
			    <p:column headerText="e-Mail" sortBy="#{profissional.email}" filterBy="#{profissional.email}">
			        <h:outputText value="#{profissional.email}" />
			    </p:column>
			    
				<p:column>
    				<p:commandButton action="#{profissional.alterar}"  icon="ui-icon-pencil">
						<f:setPropertyActionListener value="#{profissional}" target="#{profissionalBean.profissional}" />
    					<f:setPropertyActionListener value="listagemProfissionais.xhtml" target="#{profissionalBean.destinoSalvar}" />
					</p:commandButton>
    				
    				<p:commandButton action="#{profissionalBean.visualizar}"  icon="ui-icon-circle-zoomin">
						<f:setPropertyActionListener value="#{profissional}" target="#{profissionalBean.profissional}" />
    				</p:commandButton>
					
					<p:commandButton action="alterarSenhaCliente.xhtml"  icon="ui-icon-pencil">
						<f:setPropertyActionListener value="#{profissional}" target="#{profissionalBean.profissional}" />
    				</p:commandButton>
    				
    				<p:commandButton action="#{profissionalBean.excluirLogicamente}" icon="ui-icon-trash"
    					onclick="if (!confirm('Confirma a exclusÃ£o do profissional?')) return false;">
						<f:setPropertyActionListener value="#{profissional}" target="#{profissionalBean.profissional}" />
					</p:commandButton>
    			</p:column>
    			
			</p:dataTable>
     	</h:form>
     </ui:define>
</ui:composition>