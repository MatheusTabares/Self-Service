<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
			    xmlns:ui="http://java.sun.com/jsf/facelets"
			    xmlns:h="http://java.sun.com/jsf/html"
			    xmlns:f="http://java.sun.com/jsf/core"
			    template="tema.xhtml">
    <H2>Listagem de Usuários</H2>
    <ui:define name="menu">
        <ui:include src="/includes/menuPrincipal.xhtml" />
    </ui:define>
    
	<ui:define name="conteudo">
    <h:form>
    		<h:messages/>
 			<h:dataTable style="width: 100%; text-align: left;" value="#{clienteBean.listaAtivos}" var="cliente" rules="rows" cellpadding="5" >
    			<f:facet name="caption">
    				A listagem a seguir exibe a relação de todos os clientes do sistema. Você poderá
    				realizar ativação e desativação, edição e exclusão para os clientes.
    				<hr/>
    			</f:facet>
    			<f:facet name="footer">Final da Listagem</f:facet>
    			<h:column>
    				<f:facet name="header">Id</f:facet>
    				<h:outputText value="#{cliente.id}" />
    			</h:column>
    			<h:column>
    				<f:facet name="header">Nome</f:facet>
    				<h:outputText value="#{cliente.nome}" />
    			</h:column>
    			<h:column>
    				<f:facet name="header">e-Mail</f:facet>
    				<h:outputText value="#{cliente.email}" />
    			</h:column>
    			<h:column>
    				<h:commandLink action="#{clienteBean.alterar}" value="alterar">
    					<f:setPropertyActionListener value="#{cliente}" target="#{clienteBean.cliente}" />
    					<f:setPropertyActionListener value="listagem" target="#{clienteBean.destinoSalvar}" />
    				</h:commandLink>
    			</h:column>
    			<h:column>
    				<h:commandLink action="#{clienteBean.visualizar}" value="Visualizar">
    					<f:setPropertyActionListener value="#{cliente}" target="#{clienteBean.cliente}" />
    				</h:commandLink>
    			</h:column>
    			<h:column>
    				<h:commandLink action="#{clienteBean.excluirLogicamente}" value="excluir"
    					onclick="if (!confirm('Confirma a exclusão do usuário')) return false;">
    					<f:setPropertyActionListener value="#{cliente}" target="#{clienteBean.cliente}" />
    				</h:commandLink>
    			</h:column>
    		</h:dataTable>
     	</h:form>
     	<a href="admin.xhtml">voltar</a>
</ui:define>
</ui:composition>