<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
			    xmlns:ui="http://java.sun.com/jsf/facelets"
			    xmlns:h="http://java.sun.com/jsf/html"
			    xmlns:f="http://java.sun.com/jsf/core"
			    xmlns:p="http://primefaces.org/ui"
			    template="tema.xhtml">
    <H2>Listagem de Usuários</H2>
    <ui:define name="menu">
        <ui:include src="/includes/menuPrincipal.xhtml" />
    </ui:define>
    
	<ui:define name="conteudo">
	<H2>Listagem de Profissionais</H2>
    <h:form>	
    		<h:messages/>
    		
    		<p:dataTable var="cliente" value="#{clienteBean.lista}" paginator="true" rows="10" 
    			paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" lazy="true">
			    <p:column headerText="Id" sortBy="#{cliente.id}" filterBy="#{cliente.id}">
			        <h:outputText value="#{cliente.id}" />
			    </p:column>
			 
			    <p:column headerText="Nome" sortBy="#{cliente.nome}" filterBy="#{cliente.nome}">
			        <h:outputText value="#{cliente.nome}" />
			    </p:column>
			 
			    <p:column headerText="e-Mail" sortBy="#{cliente.email}" filterBy="#{cliente.email}">
			        <h:outputText value="#{cliente.email}" />
			    </p:column>
			    
				<p:column>
    				<p:commandButton action="#{clienteBean.alterar}"  icon="ui-icon-pencil">
						<f:setPropertyActionListener value="#{cliente}" target="#{clienteBean.cliente}" />
    					<f:setPropertyActionListener value="listagem" target="#{clienteBean.destinoSalvar}" />
					</p:commandButton>
    				
    				<p:commandButton action="#{clienteBean.visualizar}"  icon="ui-icon-circle-zoomin">
						<f:setPropertyActionListener value="#{cliente}" target="#{clienteBean.cliente}" />
    				</p:commandButton>
					
					<p:commandButton action="alterarSenhaProfissional.xhtml"  icon="ui-icon-pencil">
						<f:setPropertyActionListener value="#{cliente}" target="#{clienteBean.cliente}" />
    				</p:commandButton>
    				
    				<p:commandButton action="#{clienteBean.excluirLogicamente}" icon="ui-icon-trash"
    					onclick="if (!confirm('Confirma a exclusão do usuário')) return false;">
						<f:setPropertyActionListener value="#{cliente}" target="#{clienteBean.cliente}" />
					</p:commandButton>
    			</p:column>
    			
			</p:dataTable>
    		
     	</h:form>
</ui:define>
</ui:composition>